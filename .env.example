# Environment Configuration Template
# Copy this file to .env.local for development
# Created: 2025-01-03

# =============================================================================
# CORE APPLICATION SETTINGS
# =============================================================================

# Application Environment
NODE_ENV=development
API_VERSION=1.0.0
BUILD_NUMBER=dev
BUILD_DATE=2025-01-03T00:00:00.000Z
GIT_COMMIT=unknown

# Application URLs
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_API_URL=http://localhost:3000/api

# =============================================================================
# SUPABASE CONFIGURATION
# =============================================================================

# Supabase Project Settings
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# Supabase Database (for direct connections if needed)
DATABASE_URL=postgresql://postgres:[password]@db.your-project-id.supabase.co:5432/postgres
DIRECT_URL=postgresql://postgres:[password]@db.your-project-id.supabase.co:5432/postgres

# =============================================================================
# VERCEL CONFIGURATION
# =============================================================================

# Vercel Project Settings (for deployment)
VERCEL_ORG_ID=your-vercel-org-id
VERCEL_PROJECT_ID=your-vercel-project-id
VERCEL_TOKEN=your-vercel-token

# Vercel Analytics
NEXT_PUBLIC_VERCEL_ANALYTICS_ID=your-analytics-id

# =============================================================================
# CLOUDFLARE CONFIGURATION
# =============================================================================

# Cloudflare Settings (optional)
CLOUDFLARE_API_TOKEN=your-cloudflare-api-token
CLOUDFLARE_ZONE_ID=your-zone-id
CLOUDFLARE_ACCOUNT_ID=your-account-id

# =============================================================================
# HUGGINGFACE ML INTEGRATION
# =============================================================================

# HuggingFace API for ML-enhanced matching
HUGGINGFACE_API_KEY=hf_your-api-key-here
HUGGINGFACE_MODEL_ENDPOINT=https://api-inference.huggingface.co/models/invoice-matching

# =============================================================================
# EXTERNAL INTEGRATIONS
# =============================================================================

# QuickBooks Integration (future)
QUICKBOOKS_CLIENT_ID=your-quickbooks-client-id
QUICKBOOKS_CLIENT_SECRET=your-quickbooks-client-secret
QUICKBOOKS_REDIRECT_URI=http://localhost:3000/api/auth/quickbooks/callback

# Email Service (Supabase handles this, but backup options)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# JWT Configuration (handled by Supabase, but for custom implementations)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=15m
REFRESH_TOKEN_EXPIRES_IN=7d

# API Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=1000

# CORS Configuration
CORS_ORIGIN=http://localhost:3000,https://your-domain.com
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=Content-Type,Authorization,Idempotency-Key

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Development Tools
DEBUG=false
LOG_LEVEL=info
ENABLE_API_DOCS=true

# File Upload Settings
MAX_FILE_SIZE=52428800
ALLOWED_FILE_TYPES=text/csv,application/csv

# =============================================================================
# MONITORING & ANALYTICS
# =============================================================================

# Error Tracking (Sentry - optional)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=development

# Application Monitoring
ENABLE_METRICS=true
METRICS_ENDPOINT=/api/metrics

# Performance Monitoring
PERFORMANCE_MONITORING=true

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Feature toggles for gradual rollout
FEATURE_ML_MATCHING=true
FEATURE_VENDOR_NORMALIZATION=true
FEATURE_REAL_TIME_UPDATES=true
FEATURE_ADVANCED_ANALYTICS=true
FEATURE_QUICKBOOKS_INTEGRATION=false
FEATURE_BULK_OPERATIONS=true

# =============================================================================
# BUSINESS CONFIGURATION
# =============================================================================

# Default Application Settings
DEFAULT_CURRENCY=USD
DEFAULT_TIMEZONE=America/New_York
DEFAULT_DATE_FORMAT=MM/DD/YYYY

# Matching Engine Configuration
DEFAULT_AMOUNT_TOLERANCE_PERCENTAGE=5.0
DEFAULT_AMOUNT_TOLERANCE_ABSOLUTE=10.00
DEFAULT_DATE_TOLERANCE_DAYS=7
DEFAULT_AUTO_APPROVE_THRESHOLD=85.0

# CSV Processing Configuration
CSV_BATCH_SIZE=100
CSV_PROCESSING_TIMEOUT_SECONDS=300

# =============================================================================
# TENANT LIMITS
# =============================================================================

# Default limits for new tenants
DEFAULT_MAX_INVOICES_PER_MONTH=500
DEFAULT_MAX_USERS=5
DEFAULT_MAX_FILE_SIZE=52428800
DEFAULT_MAX_VENDORS=1000

# =============================================================================
# REDIS CONFIGURATION (if using external Redis)
# =============================================================================

# Redis Connection (Supabase has built-in Redis, but for external)
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=your-redis-password
REDIS_DATABASE=0

# =============================================================================
# PRODUCTION OVERRIDES
# =============================================================================

# These should be overridden in production environments

# Security (NEVER use these values in production)
SESSION_SECRET=change-this-in-production-super-secret-key
ENCRYPTION_KEY=32-character-encryption-key-here
WEBHOOK_SECRET=your-webhook-secret-for-validation

# Database Connection Pool
DATABASE_MAX_CONNECTIONS=25
DATABASE_CONNECTION_TIMEOUT=30000

# =============================================================================
# TESTING CONFIGURATION
# =============================================================================

# Test Database (for automated testing)
TEST_DATABASE_URL=postgresql://postgres:password@localhost:5432/invoice_recon_test

# Test Environment Settings
TEST_USER_EMAIL=test@example.com
TEST_USER_PASSWORD=TestPassword123!
TEST_TENANT_SLUG=test-tenant

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================

# CI/CD Settings
SKIP_BUILD_STATIC_GENERATION=false
ANALYZE_BUNDLE=false

# Deployment Target
DEPLOYMENT_TARGET=vercel

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000

# =============================================================================
# COMMENTS AND USAGE NOTES
# =============================================================================

# IMPORTANT NOTES:
# 1. Never commit real secrets to version control
# 2. Use different values for development, staging, and production
# 3. Rotate secrets regularly in production
# 4. Use environment-specific configuration management
# 5. Test all integrations in staging before production deployment

# FOR LOCAL DEVELOPMENT:
# 1. Copy this file to .env.local
# 2. Fill in your actual Supabase credentials
# 3. Set NODE_ENV=development
# 4. Use local URLs for testing

# FOR STAGING DEPLOYMENT:
# 1. Use staging Supabase project
# 2. Set NODE_ENV=staging
# 3. Use staging domain URLs
# 4. Enable additional logging

# FOR PRODUCTION DEPLOYMENT:
# 1. Use production Supabase project
# 2. Set NODE_ENV=production
# 3. Use production domain URLs
# 4. Enable monitoring and error tracking
# 5. Set secure session secrets
# 6. Configure proper CORS origins